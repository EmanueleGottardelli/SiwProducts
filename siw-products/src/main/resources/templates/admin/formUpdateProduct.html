<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Modifica Prodotto</title>
	<link rel="stylesheet" href="/css/stile.css" />
</head>

<body>
	<div class="container">
		<h1>Modifica Prodotto</h1>

		<form th:action="@{'/admin/updateProduct/' + ${product.id}}" th:object="${product}" method="post">

			<!-- Nome -->
			<label for="name">Nome</label>
			<input id="name" type="text" th:field="*{name}" />

			<!-- Descrizione -->
			<label for="description">Descrizione</label>
			<textarea id="description" th:field="*{description}"></textarea>

			<!-- Prezzo -->
			<label for="price">Prezzo (â‚¬)</label>
			<input id="price" type="number" step="0.01" min="0" th:field="*{price}" />

			<!-- Tipo -->
			<label for="type">Tipo</label>
			<input id="type" type="text" th:field="*{type}" />

			<!-- Commenti -->
			<h2>Commenti</h2>
			<div th:if="${#lists.isEmpty(product.comments)}">
				Nessun commento presente.
			</div>
			<div th:each="c : ${product.comments}" class="comment">
				<p th:text="${c.text}"></p>
				<div class="comment-actions">
					<a th:href="@{'/comments/' + ${c.id} + '/delete'}" class="btn btn-danger">Elimina</a>
				</div>
			</div>

			<!-- Pulsanti -->
			<div class="actions">
				<button type="submit" class="btn btn-primary">Salva modifiche</button>
				<a th:href="@{/products}" class="btn">Annulla</a>
			</div>
			</fo>
	</div>
</body>

</html>